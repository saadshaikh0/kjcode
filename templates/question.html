{%load static%}
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://use.fontawesome.com/releases/v5.0.4/css/all.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/ace.js" charset="utf-8"></script>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" href="{%static 'question.css'%}">
    <title>Questions Page</title>
  </head>
  <body>
    <div class="head">
      <div class="child">
        <img src="{% static 'img/updatedkjlogo.png'%}" alt="">
    
      <h2 class="text-center">KJ CODE DECODE
            <!-- <i class="fas fa-desktop"></i> -->
          </h2>
      </div>
    </div>
    <div class="question-heading">
        <h4>The Gaming Name        </h4>
    </div>
    <div class="container-fluid questions">

      <div class="desc">
        <p>Since, Nowdays there are many people playing games like PUBG, Fortnite etc. It is estimated that there are
          1 billion gamers in the world. So to find a good gaming name for yourself has become a very tedious task.
          You are given a list of gaming names.Your task is to print the lexicographically smallest name for gaming career.
          There is a restriction that there should not be any substring that is common among all the existing gaming names
          and the new gaming name.
          </p>
        <p>Input Format:</p>
        <p>The first line contains t denoting the number of test cases.</p>
          <p>the first line of each test case containes N denoting total existing gaming names.</p>
          <p>The next line contains a string of length at most 20 denoting the names of those gamers.</p>
       <p>Output Foramt:</p>
       <p>For each test case, you are required to print the name of a new gamer. If it is impossible to name it , then print -1
      </p>
      <p>Constraints:</p>
      <p>1≤t≤100</p>
      <p>1≤N≤10^4</p>
          <div class="input">
    <p > <b>Sample Input :</b></p>
    <p>1 <br>2 <br>scout <br>mortal</p>
    <p>Sample Output:</p>
    <p>b</p>

    
    
   
  <p>Explanation:</p>
  <p>In the sample test case if you name the new gamer "b" then you see that it does not have any substring that matches
    any of the company names around and also it is the lexicographical smallest name.</p>
  </div>
<
      </div>


    </div>
    <div class="tabs">
      <ul>
      <li class="text-center active" l="Python3">
        Python
        
      </li>
      <li class="text-center" l="java">
        Java
        
      </li>
      <li class="text-center" l="Cpp14">
        
        C++
      </li>
      <li class="text-center" l="c">
        C
       
      </li>
      </ul>
    </div>
    <form action="/postdata/" id="data" method="POST" enctype="multipart/form-data">
      {% csrf_token %}
    <div class="container-fluid editwrap">
      <div id="editor"></div>
</div>
<div class="input-program">
  <textarea name="input" id='text' rows="6" cols="50" placeholder="Enter your input here..."></textarea>
<div class="runbutton">
  <button type="submit" name="button" id="run">Run</button>
    <button type="button"  id="submit" name="submit">Submit</button>

</div>


</div>
</form>
<div class="winning">
  <p class="text-center"></p>
    <!-- <a href="/submit/">Result</a> -->
 
</div>
<div class="output">
  <h3>Output</h3>
  <div style="white-space: pre-line;" id="outputpara"></div>
 
</div>
<div class="counter">
  <p>Timings</p>
</div>
<div class="testcases">
  <h2 style="width:95%;margin:5px auto;">Result</h2>
<table>
  <tr>
    <td id="t1">Test Case 1</td>
    <td id="t2">Test Case 2</td>
    <td id="t3">Test Case 3</td>

  </tr>
  <tr>
    <td id="t4">Test Case 4</td>
    <td id="t5">Test Case 5</td>
    <td id="t6">Test Case 6</td>

  </tr>
  <tr>
    <td id="t7">Test Case 7</td>
    <td id="t8">Test Case 8</td>
    <td id="t9">Test Case 9</td>

  </tr>

</table>
</div>
{% include "partials/footer.html"%}

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script type="text/javascript">
    $(document).ready(function(){
      // $("#data").ajaxStart(function(){
      //   $('#run').text("Running");
      // });
      // $(document).ajaxComplete(function(){
      //   $('#run').text("Run");
      // })
    });
      var a=ace.edit("editor");
      a.setValue("#Enter your code here")
      a.setOptions({ useWrapMode: false,
    highlightActiveLine: true,
    showPrintMargin: false,
    theme: 'ace/theme/xcode',
    mode: 'ace/mode/python',
    fontSize: "15pt"});
    var x="{{time}}";
var t=x.split(","); 
for(var i=1;i<t.length-1;i++){
  t[i]=t[i].replace(/&#39;/g,"");
  console.log(t[i]);
}
var months={"Jan":1,"Feb":2,"Mar":3,"Apr":4,"May":5,"Jun":6,"July":7,
            "Aug":8,"Sep":9,"Oct":10,"Nov":11,"Dec":12};
var day=parseInt(t[1]);
var mon=months[t[2].trim()];
var year=parseInt(t[3]);
var hr=parseInt(t[4]);
var min=parseInt(t[5]);
var sec=parseInt(t[6]);
console.log(day,mon,year,hr,min,sec);


var timer=document.querySelector(".counter p");
    
    var count_to=new Date(year,mon,day,hr,min,sec,0);
    var x=setInterval(function(){
      var now=new Date().getTime();
      var d=count_to-now;
      var min=Math.floor((d%(1000*60*60))/(1000*60));
      var sec=Math.floor((d%(1000*60))/(1000));
      timer.innerHTML=min+ " : "+sec;
      if(min==0 && sec==00){
        window.location.href="/accounts/logout";
      }
    },1000);
    $(".tabs ul li").click(function(e){
      var d=document.querySelectorAll(".tabs ul li");
      for(var k=0;k<d.length;k++){
        d[k].classList.remove("active");
      }
      console.log(e.target.innerHTML);
      e.target.className+=" active";
      var lang=e.target.getAttribute("l");
      if(lang=="Python3"){
        a.setOptions({mode:"ace/mode/python",});
        a.setValue("#Enter your code here");
      }
      else if(lang=="java"){
        a.setOptions({mode:"ace/mode/java",});
        a.setValue("//Enter your code here");
      }
      else if(lang=="Cpp14"){
        a.setOptions({mode:"ace/mode/c_cpp",});
        a.setValue("//Enter your code here");
      }
      else if(lang=="c"){
        a.setOptions({mode:"ace/mode/c_cpp",});
        a.setValue("//Enter your code here");
      }

    });
    var points=0;
    $(document).on('submit',"#data",function(e){
      e.preventDefault();
      var t=$(".tabs ul li.active").attr("l");
      
      $.ajax({
        type:'POST',
        url:"/postdata/",
        beforeSend:function(){
          $('#run').text("Running");
          document.getElementById("outputpara").innerHTML = "";
        },
        complete:function(){
          $('#run').text("Run");
        },

        data:{
          lang:t,
          code:a.getValue(),
          inputdata:$('#text').val(),
          csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val(),
        },
        success:function(data){
          console.log(data);
          var d=document.querySelector("#outputpara");
          var array=data["output"];
          var sample=data["sample_output"];
          points=0;
          for(var i=0;i<array.length;i++){
            if(array[i]==1){
              points++;
              document.getElementById("t"+(i+1).toString()).style.backgroundColor="lightgreen";
            }else{
              document.getElementById("t"+(i+1).toString()).style.backgroundColor="red";
            }
          }
          if(sample.length>0){
            
            document.getElementById("outputpara").innerHTML = sample;
          }
          r=data["result"];
          if(r){
           var para= document.querySelector(".winning p");
           para.classList.add("active");
           para.innerHTML="Yaaay, you have scored "+points.toString()+" points."
          }
        },
      })
    });
    $("#submit").click(function(){
      $.ajax({
        type:'POST',
        url:'/submit/',
        data:{
          csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val(),
          point:points,
        },
        success:function(data){
          window.location.href="/thankyou/";
        }
      })
    })
    </script>
  </body>
</html>
